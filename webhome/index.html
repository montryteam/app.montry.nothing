<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lambo Search ‚Äî Nothing App</title>

<!-- Google Programmable Search -->
<script async src="https://cse.google.com/cse.js?cx=f015436e565c94c8d"></script>

<style>
:root{
  --bg:#0f1115;
  --primary:#e4e6eb;
  --surface:#151821;
  --surface-2:#1c2030;
  --radius:30px;
  --shadow:0 12px 40px rgba(0,0,0,0.65);

  --button-bg:#e4e6eb;
  --button-fg:#000;
}

*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}

body{
  background:var(--bg);
  color:var(--primary);
  font-family:Inter,system-ui,Arial,sans-serif;
  padding:18px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:14px;
}

/* LOGO */
#logo{
  font-size:34px;
  font-weight:900;
  letter-spacing:1px;
  background:linear-gradient(120deg,#5b7cff,#9b5cff);
  background-size:300% 300%;
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  animation:idleGradient 6s ease-in-out infinite;
}
@keyframes idleGradient{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
@keyframes thinkingGradient{
  0%{background-position:0% 50%;filter:hue-rotate(0deg)}
  50%{background-position:100% 50%;filter:hue-rotate(180deg)}
  100%{background-position:0% 50%;filter:hue-rotate(360deg)}
}

.subtitle{
  font-size:14px;
  color:#b6b8c0;
  text-align:center;
}
.byline{
  font-size:13px;
  color:#9ea1aa;
  text-align:center;
}
.byline a{
  color:var(--primary);
  text-decoration:underline;
}

/* CARDS */
.card{
  width:100%;
  max-width:420px;
  background:var(--surface);
  border-radius:var(--radius);
  padding:14px;
  box-shadow:var(--shadow);
}

/* INPUT */
.searchRow{
  display:flex;
  gap:10px;
}
input[type="text"]{
  flex:1;
  background:var(--surface-2);
  color:var(--primary);
  border:none;
  border-radius:999px;
  padding:14px 18px;
  font-size:15px;
}
input::placeholder{color:#8f93a0}

/* BUTTONS */
.btn{
  background:var(--button-bg);
  color:var(--button-fg);
  border:none;
  border-radius:999px;
  padding:14px 18px;
  font-weight:800;
  cursor:pointer;
}
.btn.alt{
  background:#232634;
  color:var(--primary);
}

/* RESULTS */
.result{
  width:100%;
  max-width:420px;
  background:var(--surface);
  border-radius:var(--radius);
  padding:14px;
  box-shadow:var(--shadow);
}
.sectionTitle{
  font-size:13px;
  font-weight:800;
  color:#cfd2da;
  margin-bottom:8px;
}
#lamboText{
  font-size:15px;
  line-height:1.5;
  white-space:pre-wrap;
}

/* SHORTCUTS */
.shortcuts{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
}
.shortcut{
  background:var(--surface-2);
  border-radius:18px;
  padding:14px 8px;
  text-align:center;
  font-size:13px;
  cursor:pointer;
}
.shortcut span{
  display:block;
  margin-top:6px;
  opacity:.85;
}

/* HISTORY */
.historyItem{
  font-size:13px;
  text-decoration:underline;
  cursor:pointer;
}

/* SETTINGS */
#settingsBtn{
  position:fixed;
  bottom:18px;
  right:18px;
  width:58px;
  height:58px;
  border-radius:16px;
  background:var(--button-bg);
  color:var(--button-fg);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
  font-weight:900;
  box-shadow:var(--shadow);
  cursor:pointer;
}
#overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.8);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:50;
}
.settingsBox{
  width:92%;
  max-width:420px;
  background:var(--surface);
  border-radius:24px;
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.label{
  font-size:13px;
  font-weight:800;
}
select,input[type="color"]{
  background:var(--surface-2);
  color:var(--primary);
  border:none;
  border-radius:14px;
  padding:10px;
}

/* GOOGLE */
#openGoogleBtn{display:none}

</style>
</head>

<body>

<div id="logo">LAMBO</div>
<div class="subtitle">your friend & smart AI assistant üò∫</div>
<div class="byline">developed by <b>Montry</b> for <a href="https://montryteam.github.io/app.montry.nothing/" target="_blank">Nothing</a></div>

<!-- SEARCH -->
<div class="card">
  <div class="searchRow">
    <input id="query" type="text" placeholder="ask Lambo or paste a link..." />
    <button class="btn" onclick="search()">Go</button>
  </div>
</div>

<!-- SHORTCUTS -->
<div class="card">
  <div class="sectionTitle">Quick shortcuts ‚ö°</div>
  <div id="shortcuts" class="shortcuts"></div>
</div>

<!-- LAMBO RESULT -->
<div id="lamboBox" class="result">
  <div class="sectionTitle">LAMBO answer</div>
  <div id="lamboText">Lambo is vibing‚Ä¶ ask something üòº</div>
</div>

<!-- GOOGLE RESULT -->
<div id="googleBox" class="result">
  <div class="sectionTitle">Google results</div>
  <div class="gcse-search"></div>
  <button id="openGoogleBtn" class="btn" style="margin-top:10px;width:100%">Open in Google üåê</button>
</div>

<!-- HISTORY -->
<div class="card">
  <div class="sectionTitle">History ‚è±Ô∏è</div>
  <div id="history"></div>
</div>

<!-- SETTINGS -->
<div id="settingsBtn" onclick="openSettings()">‚öô</div>
<div id="overlay">
  <div class="settingsBox">
    <div class="label">Gemini API key üîê</div>
    <input id="apiKeyInput" type="text" placeholder="paste API key here">
    <div class="label">Search mode üîé</div>
    <select id="searchMode">
      <option value="both">Lambo + Google</option>
      <option value="lambo">Lambo only</option>
      <option value="google">Google only</option>
    </select>
    <div class="label">Button color üé®</div>
    <input type="color" id="btnColor">
    <div class="label">Manage shortcuts ‚≠ê</div>
    <button class="btn alt" onclick="addShortcut()">Add shortcut</button>
    <button class="btn alt" onclick="clearHistory()">Clear history</button>
    <button class="btn" onclick="saveSettings()">Save</button>
    <button class="btn alt" onclick="closeSettings()">Close</button>
  </div>
</div>

<script>
const LS={
 api:'LAMBO_API',
 shortcuts:'LAMBO_SHORTCUTS',
 history:'LAMBO_HISTORY',
 btn:'LAMBO_BTN',
 mode:'LAMBO_MODE'
};

let API=localStorage.getItem(LS.api)||'';
let shortcuts=JSON.parse(localStorage.getItem(LS.shortcuts)||'[]');
let history=JSON.parse(localStorage.getItem(LS.history)||'[]');
let MODE=localStorage.getItem(LS.mode)||'both';

document.getElementById('apiKeyInput').value=API;
document.getElementById('btnColor').value=localStorage.getItem(LS.btn)||'#e4e6eb';
document.getElementById('searchMode').value=MODE;
applyBtnColor();

function search(){
 const q=document.getElementById('query').value.trim();
 if(!q) return;
 if(q.includes('.') && !q.includes(' ')){
   location.href=q.startsWith('http')?q:'https://'+q;
   return;
 }
 addHistory(q);
 if(MODE!=='google') runLambo(q);
 if(MODE!=='lambo') runGoogle(q);
}

function runLambo(q){
 if(!API){lamboText.textContent='Add API key in settings ‚öô';return;}
 logo.style.animation='thinkingGradient 3s linear infinite';
 lamboText.textContent='Thinking‚Ä¶ üåà';
 fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=${API}`,{
  method:'POST',
  headers:{'Content-Type':'application/json'},
  body:JSON.stringify({contents:[{parts:[{text:`You are Lambo, a friendly AI cat built on Gemini. Answer shortly. ${q}`}]}]})
 }).then(r=>r.json()).then(d=>{
  lamboText.textContent=d.candidates?.[0]?.content?.parts?.[0]?.text||'No answer';
  logo.style.animation='idleGradient 6s ease-in-out infinite';
 });
}

function runGoogle(q){
 openGoogleBtn.style.display='block';
 openGoogleBtn.onclick=()=>window.open('https://www.google.com/search?q='+encodeURIComponent(q),'_blank');
}

function addHistory(q){
 history.unshift(q);
 history=history.slice(0,30);
 localStorage.setItem(LS.history,JSON.stringify(history));
 renderHistory();
}
function renderHistory(){
 historyEl.innerHTML=history.map(h=>`<div class="historyItem" onclick="document.getElementById('query').value='${h}'">${h}</div>`).join('');
}
renderHistory();

function renderShortcuts(){
 shortcutsEl.innerHTML=shortcuts.map(s=>`
  <div class="shortcut" onclick="location.href='${s.url}'">
    üîó<span>${s.name}</span>
  </div>`).join('');
}
const shortcutsEl=document.getElementById('shortcuts');
renderShortcuts();

function addShortcut(){
 const name=prompt('Shortcut name');
 const url=prompt('Shortcut URL');
 if(!name||!url) return;
 shortcuts.push({name,url});
 localStorage.setItem(LS.shortcuts,JSON.stringify(shortcuts));
 renderShortcuts();
}

function applyBtnColor(){
 const c=document.getElementById('btnColor').value;
 document.documentElement.style.setProperty('--button-bg',c);
}

function saveSettings(){
 API=document.getElementById('apiKeyInput').value.trim();
 MODE=document.getElementById('searchMode').value;
 localStorage.setItem(LS.api,API);
 localStorage.setItem(LS.btn,document.getElementById('btnColor').value);
 localStorage.setItem(LS.mode,MODE);
 applyBtnColor();
 closeSettings();
}

function clearHistory(){
 history=[];
 localStorage.removeItem(LS.history);
 renderHistory();
}

function openSettings(){overlay.style.display='flex'}
function closeSettings(){overlay.style.display='none'}
</script>

</body>
</html>
